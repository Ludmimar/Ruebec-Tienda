// productos.js

// FunciÃ³n para obtener la ruta correcta de las imÃ¡genes segÃºn la ubicaciÃ³n
function getImagePath(imagePath) {
  // Detectar si estamos en la carpeta pages/ de manera mÃ¡s robusta
  const currentPath = window.location.pathname;
  const isInPagesFolder = currentPath.includes('/pages/');
  
  // Siempre usar rutas absolutas desde la raÃ­z del sitio
  const correctedPath = '/' + imagePath;
  
  console.log('ðŸ–¼ï¸ Image path correction:');
  console.log('  Current path:', currentPath);
  console.log('  Original:', imagePath);
  console.log('  Is in pages folder:', isInPagesFolder);
  console.log('  Corrected:', correctedPath);
  
  return correctedPath;
}

// FunciÃ³n para procesar las imÃ¡genes de un producto
function processProductImages(producto) {
  return {
    ...producto,
    imagenes: producto.imagenes.map(img => getImagePath(img))
  };
}

const productos = [
  {
    id: 1,
    nombre: "Gorro de lana",
    descripcion: "Gorro tejido a mano con lana merino de alta calidad. Perfecto para el invierno. SÃºper abrigado y suave al tacto.",
    imagenes: ["img/gorro00.jpeg", "img/gorro01.jpeg"],
    precio: 2500,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Natural", "Rosa", "Gris", "Negro"],
    tiempoProduccion: "5-7 dÃ­as",
    destacado: true,
    stock: 5,
    talles: ["Ãšnico"],
  },
  {
    id: 2,
    nombre: "Cardigan",
    descripcion: "Cardigan de lana sÃºper abrigado. Talle XXL. Ideal para los dÃ­as mÃ¡s frÃ­os. Tejido con lana de primera calidad.",
    imagenes: [
      "img/cardigan00.jpeg",
      "img/cardigan01.jpeg",
      "img/cardigan02.jpeg",
      "img/cardigan03.jpeg",
      "img/cardigan04.jpeg",
    ],
    precio: 3800,
    categoria: "ropa",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Beige", "Gris", "Rosa palo", "Azul marino"],
    tiempoProduccion: "10-15 dÃ­as",
    destacado: true,
    stock: 3,
    talles: ["S", "M", "L", "XL", "XXL"],
  },
  {
    id: 3,
    nombre: "Mitones de lana",
    descripcion: "Mitones sÃºper calentitos y prÃ¡cticos. Perfectos para usar tu celular sin pasar frÃ­o. En el color y tamaÃ±o que prefieras.",
    imagenes: ["img/mitones_lana00.jpeg", "img/mitones_lana01.jpeg"],
    precio: 5600,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Natural", "Mostaza", "Verde", "Bordo"],
    tiempoProduccion: "5-7 dÃ­as",
    destacado: true,
    stock: 8,
    talles: ["S", "M", "L"],
  },
  {
    id: 4,
    nombre: "Bufanda tejida",
    descripcion: "Bufanda gruesa para invierno, suave y cÃ¡lida. Extra larga para dar varias vueltas. Material hipoalergÃ©nico.",
    imagenes: ["img/bufanda.jpg", "img/bufanda00.jpg", "img/bufanda01.jpg"],
    precio: 3200,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Beige", "Gris", "Negro", "Bordo"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: false,
    stock: 4,
    talles: ["Ãšnico"],
  },
  {
    id: 5,
    nombre: "Saquito de bebÃ© de 1 aÃ±o",
    descripcion: "Saquito hecho en cashmilon fino. Ideal para media estaciÃ³n. Suave, abrigado y perfecto para los mÃ¡s pequeÃ±os.",
    imagenes: ["img/saquito_bebe00.jpg"],
    precio: 4500,
    categoria: "ropa",
    temporada: "otoÃ±o",
    personalizable: true,
    coloresDisponibles: ["Blanco", "Rosa", "Celeste", "Beige"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: false,
    stock: 3,
    talles: ["1 aÃ±o"],
  },
  {
    id: 6,
    nombre: "Bolso-cartera",
    descripcion: "Bolso-cartera tejido a mano con hilo de algodÃ³n con seda. DiseÃ±o elegante en color blanco y negro. Perfecto para cualquier ocasiÃ³n.",
    imagenes: ["img/bolso_cartera00.jpg", "img/bolso_cartera01.jpg", "img/bolso_cartera02.jpg"],
    precio: 6500,
    categoria: "accesorios",
    temporada: "todo el aÃ±o",
    personalizable: true,
    coloresDisponibles: ["Blanco y Negro", "Negro y Beige", "Gris y Blanco"],
    tiempoProduccion: "12-15 dÃ­as",
    destacado: false,
    stock: 2,
    talles: ["Ãšnico"],
  },
  {
    id: 7,
    nombre: "Poncho triangular",
    descripcion: "Poncho triangular tejido en lana de alta calidad. SÃºper calentito y elegante. Perfecto para los dÃ­as mÃ¡s frÃ­os. DiseÃ±o versÃ¡til que se adapta a cualquier look.",
    imagenes: ["img/poncho.jpg", "img/poncho00.jpg", "img/poncho01.jpg"],
    precio: 8500,
    categoria: "ropa",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Gris", "Beige", "Negro", "Bordo", "Verde musgo"],
    tiempoProduccion: "15-20 dÃ­as",
    destacado: true,
    stock: 4,
    talles: ["Ãšnico"],
  },
  {
    id: 8,
    nombre: "Chaleco de lana",
    descripcion: "Chaleco tejido a mano perfecto para media estaciÃ³n. Liviano pero abrigado, ideal para usar sobre camisas o remeras. DiseÃ±o clÃ¡sico y atemporal.",
    imagenes: ["img/chaleco.jpg"],
    precio: 3500,
    categoria: "ropa",
    temporada: "otoÃ±o",
    personalizable: true,
    coloresDisponibles: ["Camel", "Gris oxford", "Azul petrÃ³leo", "Verde militar"],
    tiempoProduccion: "10-12 dÃ­as",
    destacado: false,
    stock: 5,
    talles: ["S", "M", "L", "XL"],
  },
  {
    id: 9,
    nombre: "Cuello Infinity",
    descripcion: "Cuello circular infinito sÃºper suave y abrigado. Se puede usar simple o doble vuelta. Perfecto compaÃ±ero para el frÃ­o. Tejido en lana merino extra suave.",
    imagenes: ["img/cuello.jpg", "img/cuello00.jpg"],
    precio: 2800,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Mostaza", "Bordo", "Gris perla", "Natural"],
    tiempoProduccion: "5-7 dÃ­as",
    destacado: false,
    stock: 6,
    talles: ["Ãšnico"],
  },
  {
    id: 10,
    nombre: "Guantes de lana",
    descripcion: "Guantes completos tejidos a mano con lana de primera calidad. SÃºper abrigados para los dÃ­as mÃ¡s frÃ­os. Perfectos para proteger tus manos del viento y el frÃ­o.",
    imagenes: ["img/guantes.jpg"],
    precio: 3200,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Negro", "Gris", "Beige", "Rosa palo"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: false,
    stock: 7,
    talles: ["S", "M", "L"],
  },
  {
    id: 11,
    nombre: "Manta/Throw",
    descripcion: "Manta decorativa tejida a mano perfecta para el sillÃ³n o la cama. TamaÃ±o generoso de 1.20m x 1.50m. CÃ¡lida, suave y hermosa. Una pieza de decoraciÃ³n funcional.",
    imagenes: ["img/manta.jpg"],
    precio: 12500,
    categoria: "ropa",
    temporada: "todo el aÃ±o",
    personalizable: true,
    coloresDisponibles: ["Gris y blanco", "Beige y natural", "Azul y blanco", "Rosa y gris"],
    tiempoProduccion: "20-25 dÃ­as",
    destacado: false,
    stock: 2,
    talles: ["120x150cm"],
  },
  {
    id: 12,
    nombre: "Sweater Oversize",
    descripcion: "Sweater tejido a mano estilo oversize, sÃºper cÃ³modo y trendy. Perfecto para un look casual y relajado. Tejido en lana gruesa con punto inglÃ©s.",
    imagenes: ["img/sweater.jpg"],
    precio: 7800,
    categoria: "ropa",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Crudo", "Gris melange", "Camel", "Negro"],
    tiempoProduccion: "15-18 dÃ­as",
    destacado: false,
    stock: 3,
    talles: ["Ãšnico (oversize)"],
  },
  {
    id: 13,
    nombre: "Payasito Plim Plim",
    descripcion: "MuÃ±eco Plim Plim tejido a mano en lana suave. El personaje favorito de los mÃ¡s chicos. Ideal para regalo. Aproximadamente 35cm de alto.",
    imagenes: ["img/plimplim.jpg"],
    precio: 5500,
    categoria: "juguetes",
    temporada: "todo el aÃ±o",
    personalizable: false,
    coloresDisponibles: ["Tradicional (rojo, amarillo, azul)"],
    tiempoProduccion: "10-12 dÃ­as",
    destacado: true,
    stock: 2,
    talles: ["Ãšnico"],
  },
  {
    id: 14,
    nombre: "Set de mate y latitas recicladas",
    descripcion: "Set artesanal con mate y latitas decoradas con crochet. Incluye mate de calabaza o madera + 2 latitas recicladas tejidas para yerbera y azucarera. EcolÃ³gico y Ãºnico.",
    imagenes: ["img/set_mate.jpg"],
    precio: 6800,
    categoria: "hogar",
    temporada: "todo el aÃ±o",
    personalizable: true,
    coloresDisponibles: ["Natural", "Beige y blanco", "Gris y crudo", "Colores a elecciÃ³n"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: true,
    stock: 3,
    talles: ["Ãšnico"],
  },
  {
    id: 15,
    nombre: "Medias de lana",
    descripcion: "Medias largas tejidas a mano hasta la rodilla. SÃºper abrigadas y cÃ³modas para estar en casa. Lana suave que no pica. Perfectas para el invierno.",
    imagenes: ["img/medias.jpg"],
    precio: 3800,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Natural", "Gris", "Rosa palo", "Beige", "Bordo"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: false,
    stock: 6,
    talles: ["35-38", "39-42"],
  },
  {
    id: 16,
    nombre: "Ruana",
    descripcion: "Ruana tejida a mano en lana suave y calentita. Prenda versÃ¡til perfecta para abrigarte con estilo. DiseÃ±o amplio y cÃ³modo que combina con todo.",
    imagenes: ["img/ruana.jpg", "img/ruana00.jpg"],
    precio: 7500,
    categoria: "ropa",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Gris", "Beige", "Camel", "Bordo", "Verde musgo", "Azul petrÃ³leo"],
    tiempoProduccion: "15-18 dÃ­as",
    destacado: true,
    stock: 3,
    talles: ["Ãšnico"],
  },
  {
    id: 17,
    nombre: "Gorritos y cuellitos para bebÃ© de 1 aÃ±o",
    descripcion: "Set de gorrito y cuellito tejidos a mano para bebÃ© de 1 aÃ±o. Lana extra suave e hipoalergÃ©nica. Perfectos para proteger del frÃ­o a los mÃ¡s pequeÃ±os. DiseÃ±o tierno y abrigado.",
    imagenes: ["img/set_bebe.jpg"],
    precio: 4200,
    categoria: "accesorios",
    temporada: "invierno",
    personalizable: true,
    coloresDisponibles: ["Blanco", "Rosa", "Celeste", "Beige", "Gris claro"],
    tiempoProduccion: "7-10 dÃ­as",
    destacado: true,
    stock: 4,
    talles: ["1 aÃ±o"],
  },
  {
    id: 18,
    nombre: "Bolso tejido",
    descripcion: "Bolso amplio tejido a mano en hilo de algodÃ³n. Perfecto para uso diario, playa o compras. Resistente y con gran capacidad. DiseÃ±o moderno y versÃ¡til.",
    imagenes: ["img/bolso_tejido.jpg", "img/bolso_tejido00.jpg"],
    precio: 5800,
    categoria: "accesorios",
    temporada: "todo el aÃ±o",
    personalizable: true,
    coloresDisponibles: ["Natural", "Beige", "Gris", "Negro", "Camel", "Combinados"],
    tiempoProduccion: "10-12 dÃ­as",
    destacado: false,
    stock: 5,
    talles: ["Ãšnico"],
  },
  {
    id: 19,
    nombre: "Aritos tejidos",
    descripcion: "Aritos/pendientes tejidos a mano en hilo de algodÃ³n con estructura de metal. Livianos y cÃ³modos. DiseÃ±os Ãºnicos y modernos. Perfectos para uso diario o casual.",
    imagenes: ["img/aritos.jpg", "img/aritos00.jpg", "img/aritos01.jpg", "img/aritos02.jpg"],
    precio: 1500,
    categoria: "accesorios",
    temporada: "todo el aÃ±o",
    personalizable: true,
    coloresDisponibles: ["Natural", "Negro", "Bordo", "Mostaza", "Verde", "Combinados"],
    tiempoProduccion: "3-5 dÃ­as",
    destacado: false,
    stock: 10,
    talles: ["Ãšnico"],
  },
  {
    id: 20,
    nombre: "Capelina con moÃ±o",
    descripcion: "Elegante capelina tejida a mano con lazo decorativo. Sombrero de ala ancha perfecto para verano, playa o eventos especiales. Estilo romÃ¡ntico y sofisticado.",
    imagenes: ["img/capelina.jpg", "img/capelina00.jpg", "img/capelina01.jpg"],
    precio: 4500,
    categoria: "accesorios",
    temporada: "verano",
    personalizable: true,
    coloresDisponibles: ["Natural", "Blanco", "Negro", "Beige", "Rosa palo"],
    tiempoProduccion: "8-10 dÃ­as",
    destacado: true,
    stock: 4,
    talles: ["Ãšnico"],
  },
  {
    id: 21,
    nombre: "Hombre AraÃ±a",
    descripcion: "MuÃ±eco del Hombre AraÃ±a tejido a mano en lana. El superhÃ©roe favorito de los chicos. Perfecto para regalo o colecciÃ³n. Aproximadamente 30cm de alto.",
    imagenes: ["img/spiderman.jpg"],
    precio: 5200,
    categoria: "juguetes",
    temporada: "todo el aÃ±o",
    personalizable: false,
    coloresDisponibles: ["Tradicional (rojo y azul)"],
    tiempoProduccion: "10-12 dÃ­as",
    destacado: true,
    stock: 3,
    talles: ["Ãšnico"],
  },
];

// Definir combos/paquetes especiales
const combos = [
  {
    id: 101,
    nombre: "Combo Invierno Completo",
    descripcion: "El pack perfecto para el frÃ­o: Gorro + Mitones + Bufanda. Â¡AhorrÃ¡ $2000!",
    productos: [1, 3, 4],
    precioOriginal: 11300,
    precio: 9300,
    descuento: 2000,
    imagenes: ["img/combo1.jpg"],
    destacado: true,
  },
  {
    id: 102,
    nombre: "Pack Regalo Perfecto",
    descripcion: "Ideal para regalar: Gorro + Mitones. Un detalle que abriga manos y cabeza con estilo.",
    productos: [1, 3],
    precioOriginal: 8100,
    precio: 6900,
    descuento: 1200,
    imagenes: ["img/combo2.jpg"],
    destacado: true,
  },
  {
    id: 103,
    nombre: "Combo Invierno Premium",
    descripcion: "El pack mÃ¡s completo para el invierno: Poncho + Gorro + Mitones. MÃ¡xima protecciÃ³n y estilo. Â¡AhorrÃ¡ $1800!",
    productos: [7, 1, 3],
    precioOriginal: 16600,
    precio: 14800,
    descuento: 1800,
    imagenes: ["img/combo3.jpg"],
    destacado: true,
  },
];

// Procesar todas las imÃ¡genes para que funcionen desde cualquier ubicaciÃ³n
console.log('ðŸ”„ Processing images for all products and combos...');
console.log('ðŸ“ Current location:', window.location.pathname);

const productosConRutasCorregidas = productos.map(processProductImages);
const combosConRutasCorregidas = combos.map(combo => ({
  ...combo,
  imagenes: combo.imagenes.map(img => getImagePath(img))
}));

console.log('âœ… Processed products:', productosConRutasCorregidas.length);
console.log('âœ… Processed combos:', combosConRutasCorregidas.length);

// Exportar las versiones procesadas
window.productos = productosConRutasCorregidas;
window.combos = combosConRutasCorregidas;

console.log('ðŸ“¤ Exported to window.productos and window.combos');
